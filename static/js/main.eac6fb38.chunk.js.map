{"version":3,"sources":["components/Modal/modal.module.css","components/Button/button.module.css","components/Loader/loader.module.css","components/Searchbar/Searchbar.js","API/photo-api.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/GalleryRender/GalleryRender.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/searchbar.module.css","components/ImageGallery/imageGallery.module.css"],"names":["module","exports","Searchbar","state","search","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","css","SearchForm","this","type","onChange","autoComplete","autoFocus","placeholder","Component","page","searchPhotos","searchValue","prevValue","fetch","then","responce","json","hits","length","Promise","reject","Error","ImageGalleryItem","src","alt","openModal","dataSrc","onClick","ImageGallery","searchValueArr","map","item","webformatURL","tags","largeImageURL","id","Button","onLoadMore","LoaderSpinner","loaderThumb","color","height","width","timeout","Status","GalleryRender","searchArr","status","error","arr","prevState","catch","onModalOpen","prevProps","prevSearch","nextSearch","message","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","modalImg","App","modalImgData","onSearchSubmit","data","toggleModal","nodeName","dataset","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eac6fb38.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1Z7LX\",\"Modal\":\"modal_Modal__2KC8p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__3jODW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderThumb\":\"loader_loaderThumb__3vMaX\"};","import PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport css from './searchbar.module.css';\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n  state = {\n    search: '',\n  };\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.search.trim() === '') {\n      alert('Write something');\n      return\n     }\n    this.props.onSubmit(this.state.search);\n    this.setState({search: ''})\n  };\n  render() {\n    return (\n      <header className={css.Searchbar}>\n        <form className={css.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={css['SearchForm-button']}>\n            <span className={css['SearchForm-button-label']}>Search</span>\n          </button>\n\n          <input\n            name=\"search\"\n            value={this.state.search}\n            onChange={this.handleChange}\n            className={css['SearchForm-input']}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport { Searchbar };\n","const key = '23969951-9657d20fcde1193b572e11c69';\nlet page = 1;\nconst searchPhotos = (searchValue, prevValue) => {\n  if (searchValue === prevValue) {\n    page += 1;\n  } else {\n    page = 1;\n  }\n  return fetch(\n    `https://pixabay.com/api/?q=${searchValue}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n  )\n    .then(responce => responce.json())\n    .then(responce => {\n      if (responce.hits.length === 0) {\n        return Promise.reject(new Error('Nothing was founded'));\n      }\n      return responce.hits;\n    });\n};\nexport { searchPhotos };\n","import PropTypes from 'prop-types';\nimport css from './imageGallery.module.css';\n\nconst ImageGalleryItem = ({ src, alt, openModal, dataSrc }) => {\n  return (\n    <li onClick={openModal} className={css.ImageGalleryItem}>\n      <img\n        className={css['ImageGalleryItem-image']}\n        src={src}\n        alt={alt}\n        data-src={dataSrc}\n      />\n    </li>\n  );\n};\nImageGalleryItem.propTypes = {\n  src: PropTypes.string,\n  alt: PropTypes.string,\n  openModal: PropTypes.func,\n  dataSrc: PropTypes.string,\n};\n\nexport { ImageGalleryItem };\n","import PropTypes from 'prop-types';\nimport { ImageGalleryItem } from './ImageGalleryItem';\nimport css from './imageGallery.module.css';\n\nconst ImageGallery = ({ searchValueArr, openModal }) => {\n  return (\n    <ul className={css.ImageGallery}>\n      {searchValueArr.map(item => (\n        <ImageGalleryItem\n          openModal={event => openModal(event)}\n          key={item.id}\n          src={item.webformatURL}\n          alt={item.tags}\n          dataSrc={item.largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n};\nImageGallery.propTypes = {\n  searchValueArr: PropTypes.array,\n  openModal: PropTypes.func,\n};\nexport { ImageGallery };\n","import PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport css from './button.module.css';\n\nconst Button = ({ onLoadMore }) => {\n  return (\n    <button type=\"button\" onClick={() => onLoadMore()} className={css.Button}>\n      Load more\n    </button>\n  );\n};\nexport { Button };\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport css from './loader.module.css';\n\nconst LoaderSpinner = () => {\n  return (\n    <div className={css.loaderThumb}>\n      <Loader\n        type=\"Grid\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} //3 secs\n      />\n    </div>\n  );\n};\nexport { LoaderSpinner };\n","import { Component } from 'react';\r\nimport { searchPhotos } from '../../API/photo-api';\r\nimport { ImageGallery } from '../ImageGallery';\r\nimport { Button } from '../Button';\r\nimport { LoaderSpinner } from '../Loader';\r\nimport { Fragment } from 'react';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nclass GalleryRender extends Component { \r\n    state = {\r\n         searchArr: [],\r\n    status: Status.IDLE,\r\n    error: null,\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n    const prevSearch = prevProps.search;\r\n    const nextSearch = this.props.search;\r\n\r\n    if (prevSearch !== nextSearch  ) {\r\n      \r\n        this.setState({ status: Status.PENDING , searchArr: []});\r\n        searchPhotos(nextSearch, prevSearch)\r\n          .then(arr => {            \r\n            this.setState({ searchArr: arr, status: Status.RESOLVED })\r\n          }\r\n          )\r\n          .catch(error => {\r\n            this.setState({ error, status: Status.REJECTED });\r\n          });\r\n    }\r\n  }\r\n\r\n    onLoadMore = () => {\r\n    searchPhotos(this.props.search, this.props.search)\r\n      .then(arr =>\r\n        this.setState(prevState => ({\r\n          searchArr: [...prevState.searchArr, ...arr],\r\n          status: Status.RESOLVED,\r\n        })),\r\n      )\r\n      .catch(error => {\r\n        this.setState({ error, status: Status.REJECTED });\r\n      });\r\n    };\r\n\r\n    onModalOpen = (event) => { \r\nthis.props.onModalOpen(event)\r\n    }   \r\n    \r\n\r\n    render() { \r\n        const { status, searchArr, error } = this.state;\r\n        \r\n         \r\n        if (status === 'pending') {\r\n                return <LoaderSpinner />\r\n        }\r\n        if (status === 'rejected') { return <strong>{error.message}</strong> }\r\n        \r\n        if (status === 'resolved') { \r\n\r\n            return (\r\n                <>\r\n                     <ImageGallery\r\n                    searchValueArr={searchArr}\r\n                    openModal={this.onModalOpen}\r\n                />\r\n                <Button onLoadMore={this.onLoadMore} />\r\n               </>\r\n            )\r\n        }\r\n       \r\n        return null  \r\n               \r\n       \r\n    }\r\n}\r\nexport { GalleryRender }\r\n ","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport css from './modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\nclass Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func,\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={css.Overlay} onClick={this.handleBackdropClick}>\n        <div className={css.Modal}>\n          <img\n            className={css.modalImg}\n            src={this.props.src}\n            alt={this.props.alt}\n          />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nexport { Modal };\n","import { Component } from 'react';\nimport './App.css';\nimport { Searchbar } from './components/Searchbar';\nimport { GalleryRender} from './components/GalleryRender'\nimport { Modal } from './components/Modal';\n\n\n\nclass App extends Component {\n  state = {\n    search: '',\n   \n    openModal: false,\n    modalImgData: {\n      src: '',\n      alt: '',\n    },\n  };\n\n  \n  onSearchSubmit = data => {\n    this.setState({ search: data });\n  };\n\n  \n\n  toggleModal = () => {\n    this.setState(prevState => ({ openModal: !prevState.openModal }));\n  };\n\n  onModalOpen = event => {\n    if (event.target.nodeName === 'IMG') {\n      this.toggleModal();\n      this.setState({\n        modalImgData: { src: event.target.dataset.src, alt: event.target.alt },\n      });\n    }\n  };\n\n  render() {\n    const {  openModal, modalImgData, search } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onSearchSubmit} />\n        {/* {search !== '' && } */}\n        <GalleryRender onModalOpen={this.onModalOpen} search={search} />\n        \n        {openModal === true && (\n          <Modal\n            onClose={this.toggleModal}\n            src={modalImgData.src}\n            alt={modalImgData.alt}\n          />\n        )}\n      \n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__Ja69f\",\"SearchForm\":\"searchbar_SearchForm__JzV0k\",\"SearchForm-button\":\"searchbar_SearchForm-button__HKAE6\",\"SearchForm-button-label\":\"searchbar_SearchForm-button-label__1uRx6\",\"SearchForm-input\":\"searchbar_SearchForm-input__3TA0J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__-w7IN\",\"ImageGalleryItem\":\"imageGallery_ImageGalleryItem__UFjtu\",\"ImageGalleryItem-image\":\"imageGallery_ImageGalleryItem-image__2tLz-\"};"],"sourceRoot":""}