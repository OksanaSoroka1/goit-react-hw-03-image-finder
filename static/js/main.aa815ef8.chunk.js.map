{"version":3,"sources":["components/Modal/modal.module.css","components/Button/button.module.css","components/Loader/loader.module.css","components/Searchbar/Searchbar.js","API/photo-api.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/searchbar.module.css","components/ImageGallery/imageGallery.module.css"],"names":["module","exports","Searchbar","state","search","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","props","onSubmit","className","css","SearchForm","this","type","onChange","autoComplete","autoFocus","placeholder","Component","page","searchPhotos","searchValue","prevValue","fetch","then","responce","json","hits","length","Promise","reject","Error","ImageGalleryItem","src","alt","openModal","dataSrc","onClick","ImageGallery","searchValueArr","map","item","webformatURL","tags","largeImageURL","id","Button","onLoadMore","LoaderSpinner","loaderThumb","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","modalImg","Status","App","searchArr","status","error","modalImgData","onSearchSubmit","data","arr","prevState","catch","toggleModal","onModalOpen","nodeName","dataset","prevProps","prevSearch","nextSearch","setTimeout","alert","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aa815ef8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1Z7LX\",\"Modal\":\"modal_Modal__2KC8p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__3jODW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderThumb\":\"loader_loaderThumb__3vMaX\"};","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport css from './searchbar.module.css'\r\n\r\nclass Searchbar extends Component {\r\n    static propTypes = {\r\n       onSubmit: PropTypes.func, \r\n    }\r\n    state = {\r\n        search: '',\r\n    }\r\n    handleChange = (event) => {\r\n        const { name, value } = event.target;\r\n        this.setState({ [name]: value })\r\n    }\r\n    handleSubmit = (event) => { \r\n        event.preventDefault();\r\n        this.props.onSubmit(this.state.search)\r\n    }\r\n    render() { \r\n        return (\r\n            <header className={css.Searchbar }>\r\n                <form className={ css.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={ css['SearchForm-button']}>\r\n                        <span className={ css['SearchForm-button-label']}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        name=\"search\"\r\n                        value={this.state.search}\r\n                        onChange={this.handleChange}\r\n                        className={ css['SearchForm-input']}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\nexport { Searchbar}","const key = '23969951-9657d20fcde1193b572e11c69'\r\n    let page = 1\r\nconst searchPhotos = (searchValue, prevValue) => { \r\n    \r\n    if (searchValue === prevValue) {\r\n        page += 1\r\n    } else { \r\n        page = 1\r\n    }\r\n   return fetch(`https://pixabay.com/api/?q=${searchValue}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(responce => responce.json())\r\n        .then(responce => {\r\n            if (responce.hits.length === 0) {\r\n              return Promise.reject(new Error('Nothing was founded')) \r\n            }           \r\n             return responce.hits\r\n            \r\n        })\r\n}\r\nexport {searchPhotos }","import PropTypes from 'prop-types';\r\nimport css from './imageGallery.module.css'\r\n\r\nconst ImageGalleryItem = ({ src, alt, openModal, dataSrc}) => { \r\n    return (\r\n        <li onClick={openModal} className={css.ImageGalleryItem }>\r\n            <img className={css['ImageGalleryItem-image']} src={src} alt={alt} data-src={dataSrc }/>\r\n        </li> \r\n    )\r\n}\r\nImageGalleryItem.propTypes = {\r\n    src: PropTypes.string,\r\n    alt: PropTypes.string,\r\n    openModal: PropTypes.func,\r\n   dataSrc: PropTypes.string,\r\n}\r\n\r\nexport { ImageGalleryItem}","import PropTypes from 'prop-types';\r\nimport { ImageGalleryItem } from './ImageGalleryItem';\r\nimport css from './imageGallery.module.css'\r\n\r\nconst ImageGallery = ({searchValueArr, openModal }) => { \r\n    return (\r\n        <ul className={ css.ImageGallery}>\r\n            {searchValueArr.map(item => <ImageGalleryItem openModal={(event) => openModal(event)} key={item.id} src={item.webformatURL} alt={item.tags} dataSrc={item.largeImageURL}/>) }\r\n        </ul>\r\n    )\r\n}\r\nImageGallery.propTypes = {\r\n    searchValueArr: PropTypes.array,\r\n    openModal: PropTypes.func,\r\n}\r\nexport { ImageGallery}","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport css from './button.module.css';\r\n\r\nconst Button = ({onLoadMore }) => {\r\n    return (<button type='button' onClick={()=>onLoadMore()} className={ css.Button}>Load more</button>)\r\n\r\n}\r\nexport { Button}","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport css from './loader.module.css'\r\n\r\nconst LoaderSpinner = () => { \r\n    return (\r\n        <div className={css.loaderThumb }>\r\n            <Loader\r\n        type=\"Grid\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n        </div>\r\n    )\r\n}\r\nexport { LoaderSpinner}","import { Component } from \"react\";\r\nimport { createPortal } from 'react-dom';\r\nimport css from './modal.module.css';\r\nimport PropTypes from 'prop-types'\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\nclass Modal extends Component { \r\n    static propTypes = {\r\n        onClose: PropTypes.func,\r\n    }\r\n    componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n     handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n    \r\n    render() { \r\n        return createPortal(\r\n            <div className={css.Overlay} onClick={this.handleBackdropClick }>\r\n                <div className={ css.Modal}>\r\n                    <img className={css.modalImg } src={this.props.src} alt={this.props.alt } />\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        )\r\n    }\r\n}\r\nexport { Modal}","import { Component } from 'react';\nimport './App.css';\nimport { Searchbar } from './components/Searchbar'\nimport { searchPhotos } from './API/photo-api';\nimport { ImageGallery } from './components/ImageGallery';\nimport { Button } from './components/Button';\nimport { LoaderSpinner } from './components/Loader';\nimport { Modal } from './components/Modal';\n\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component { \n   state = {\n    search: '',\n     searchArr: [],   \n     status: Status.IDLE,\n     error: null,\n     openModal: false,\n     modalImgData: {\n       src: '',\n       alt: '',\n     }\n   }\n  \n  componentDidUpdate(prevProps, prevState) { \n    const prevSearch = prevState.search;\n    const nextSearch = this.state.search;\n    if (prevSearch !== nextSearch) {\n      this.setState({ status: Status.PENDING });\n      \n      setTimeout(() => { \n         searchPhotos(nextSearch, prevSearch)\n           .then(arr => this.setState({ searchArr: arr, status: Status.RESOLVED }))\n           .catch(error => { this.setState({error, status: Status.REJECTED}) })\n      }\n         , 1000)\n          \n    }   \n  }\n  onSearchSubmit = (data) => { \n    this.setState({ search: data })\n  }\n\n  onLoadMore = () => { \n   \n       searchPhotos(this.state.search, this.state.search)\n         .then(arr => this.setState(prevState => ({ searchArr: [...prevState.searchArr, ...arr], status: Status.RESOLVED })))\n         .catch(error => { this.setState({error, status: Status.REJECTED}) });  \n   \n  }\n\n  toggleModal = () => { \n    this.setState(prevState => ({ openModal: !prevState.openModal }))\n    \n  }\n\n  onModalOpen = (event) => { \n    \n    if (event.target.nodeName === \"IMG\") {\n      this.toggleModal()\n      this.setState({ modalImgData: {src: event.target.dataset.src , alt: event.target.alt}}) \n     }\n  }\n\n  render() { \n    const {status, searchArr, openModal, modalImgData, error}= this.state\n    return (\n  <div className=\"App\">\n        <Searchbar onSubmit={this.onSearchSubmit} />\n       \n        {status === 'pending'  && <LoaderSpinner />}\n        {status === 'resolved' && <ImageGallery searchValueArr={searchArr} openModal={this.onModalOpen} />}\n        {status === 'resolved' && <Button onLoadMore={this.onLoadMore} />}\n        {openModal === true && <Modal onClose={this.toggleModal} src={modalImgData.src} alt={modalImgData.alt} />}\n        {error && alert(`${error.message}`) }\n    </div>\n)\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__Ja69f\",\"SearchForm\":\"searchbar_SearchForm__JzV0k\",\"SearchForm-button\":\"searchbar_SearchForm-button__HKAE6\",\"SearchForm-button-label\":\"searchbar_SearchForm-button-label__1uRx6\",\"SearchForm-input\":\"searchbar_SearchForm-input__3TA0J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__-w7IN\",\"ImageGalleryItem\":\"imageGallery_ImageGalleryItem__UFjtu\",\"ImageGalleryItem-image\":\"imageGallery_ImageGalleryItem-image__2tLz-\"};"],"sourceRoot":""}