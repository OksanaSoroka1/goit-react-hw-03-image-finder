{"version":3,"sources":["components/Modal/modal.module.css","components/Button/button.module.css","components/Loader/loader.module.css","components/Error/error.module.css","components/Searchbar/Searchbar.js","API/photo-api.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Error/Error.js","components/GalleryRender/GalleryRender.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/searchbar.module.css","components/ImageGallery/imageGallery.module.css"],"names":["module","exports","Searchbar","state","search","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","css","SearchForm","this","type","onChange","autoComplete","autoFocus","placeholder","Component","page","searchPhotos","searchValue","prevValue","fetch","then","responce","json","hits","length","Promise","reject","Error","ImageGalleryItem","src","alt","openModal","dataSrc","onClick","ImageGallery","searchValueArr","map","item","webformatURL","tags","largeImageURL","id","Button","onLoadMore","LoaderSpinner","loaderThumb","color","height","width","timeout","message","error","Status","GalleryRender","searchArr","status","arr","prevState","catch","onModalOpen","prevProps","prevSearch","nextSearch","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","modalImg","App","modalImgData","onSearchSubmit","data","toggleModal","nodeName","dataset","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fb103d7b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1Z7LX\",\"Modal\":\"modal_Modal__2KC8p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__3jODW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderThumb\":\"loader_loaderThumb__3vMaX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"error_error__2E1Wa\"};","import PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport css from './searchbar.module.css';\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n  state = {\n    search: '',\n  };\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.search.trim() === '') {\n      alert('Write something');\n      return;\n    }\n    this.props.onSubmit(this.state.search);\n    this.setState({ search: '' });\n  };\n  render() {\n    return (\n      <header className={css.Searchbar}>\n        <form className={css.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={css['SearchForm-button']}>\n            <span className={css['SearchForm-button-label']}>Search</span>\n          </button>\n\n          <input\n            name=\"search\"\n            value={this.state.search}\n            onChange={this.handleChange}\n            className={css['SearchForm-input']}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport { Searchbar };\n","const key = '23969951-9657d20fcde1193b572e11c69';\nlet page = 1;\nconst searchPhotos = (searchValue, prevValue) => {\n  if (searchValue === prevValue) {\n    page += 1;\n  } else {\n    page = 1;\n  }\n  return fetch(\n    `https://pixabay.com/api/?q=${searchValue}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n  )\n    .then(responce => responce.json())\n    .then(responce => {\n      if (responce.hits.length === 0) {\n        return Promise.reject(new Error('Nothing was founded'));\n      }\n      return responce.hits;\n    });\n};\nexport { searchPhotos };\n","import PropTypes from 'prop-types';\nimport css from './imageGallery.module.css';\n\nconst ImageGalleryItem = ({ src, alt, openModal, dataSrc }) => {\n  return (\n    <li onClick={openModal} className={css.ImageGalleryItem}>\n      <img\n        className={css['ImageGalleryItem-image']}\n        src={src}\n        alt={alt}\n        data-src={dataSrc}\n      />\n    </li>\n  );\n};\nImageGalleryItem.propTypes = {\n  src: PropTypes.string,\n  alt: PropTypes.string,\n  openModal: PropTypes.func,\n  dataSrc: PropTypes.string,\n};\n\nexport { ImageGalleryItem };\n","import PropTypes from 'prop-types';\nimport { ImageGalleryItem } from './ImageGalleryItem';\nimport css from './imageGallery.module.css';\n\nconst ImageGallery = ({ searchValueArr, openModal }) => {\n  return (\n    <ul className={css.ImageGallery}>\n      {searchValueArr.map(item => (\n        <ImageGalleryItem\n          openModal={event => openModal(event)}\n          key={item.id}\n          src={item.webformatURL}\n          alt={item.tags}\n          dataSrc={item.largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n};\nImageGallery.propTypes = {\n  searchValueArr: PropTypes.array,\n  openModal: PropTypes.func,\n};\nexport { ImageGallery };\n","import PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport css from './button.module.css';\n\nconst Button = ({ onLoadMore }) => {\n  return (\n    <button type=\"button\" onClick={() => onLoadMore()} className={css.Button}>\n      Load more\n    </button>\n  );\n};\nexport { Button };\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport css from './loader.module.css';\n\nconst LoaderSpinner = () => {\n  return (\n    <div className={css.loaderThumb}>\n      <Loader\n        type=\"Grid\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} //3 secs\n      />\n    </div>\n  );\n};\nexport { LoaderSpinner };\n","import PropTypes from 'prop-types';\r\nimport css from './error.module.css';\r\n\r\n\r\nconst Error = ({ message }) => {\r\n    return (\r\n        <strong className={css.error}>{ message}</strong>\r\n    )\r\n}\r\nError.propTypes = {\r\n    message: PropTypes.string,\r\n}\r\nexport { Error}","import { Component } from 'react';\nimport { searchPhotos } from '../../API/photo-api';\nimport { ImageGallery } from '../ImageGallery';\nimport { Button } from '../Button';\nimport { LoaderSpinner } from '../Loader';\nimport { Error} from '../Error'\nimport { Fragment } from 'react';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass GalleryRender extends Component {\n  state = {\n    searchArr: [],\n    status: Status.IDLE,\n    error: null,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const prevSearch = prevProps.search;\n    const nextSearch = this.props.search;\n\n    if (prevSearch !== nextSearch) {\n      this.setState({ status: Status.PENDING, searchArr: [] });\n      searchPhotos(nextSearch, prevSearch)\n        .then(arr => {\n          this.setState({ searchArr: arr, status: Status.RESOLVED });\n        })\n        .catch(error => {\n          this.setState({ error, status: Status.REJECTED });\n        });\n    }\n  }\n\n  onLoadMore = () => {\n    searchPhotos(this.props.search, this.props.search)\n      .then(arr =>\n        this.setState(prevState => ({\n          searchArr: [...prevState.searchArr, ...arr],\n          status: Status.RESOLVED,\n        })),\n      )\n      .catch(error => {\n        this.setState({ error, status: Status.REJECTED });\n      });\n  };\n\n  onModalOpen = event => {\n    this.props.onModalOpen(event);\n  };\n\n  render() {\n    const { status, searchArr, error } = this.state;\n\n    if (status === 'pending') {\n      return <LoaderSpinner />;\n    }\n    if (status === 'rejected') {\n        return <Error message={error.message }/>;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ImageGallery\n            searchValueArr={searchArr}\n            openModal={this.onModalOpen}\n          />\n          <Button onLoadMore={this.onLoadMore} />\n        </>\n      );\n    }\n\n    return null;\n  }\n}\nexport { GalleryRender };\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport css from './modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\nclass Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func,\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={css.Overlay} onClick={this.handleBackdropClick}>\n        <div className={css.Modal}>\n          <img\n            className={css.modalImg}\n            src={this.props.src}\n            alt={this.props.alt}\n          />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nexport { Modal };\n","import { Component } from 'react';\nimport './App.css';\nimport { Searchbar } from './components/Searchbar';\nimport { GalleryRender } from './components/GalleryRender';\nimport { Modal } from './components/Modal';\n\nclass App extends Component {\n  state = {\n    search: '',\n\n    openModal: false,\n    modalImgData: {\n      src: '',\n      alt: '',\n    },\n  };\n\n  onSearchSubmit = data => {\n    this.setState({ search: data });\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({ openModal: !prevState.openModal }));\n  };\n\n  onModalOpen = event => {\n    if (event.target.nodeName === 'IMG') {\n      this.toggleModal();\n      this.setState({\n        modalImgData: { src: event.target.dataset.src, alt: event.target.alt },\n      });\n    }\n  };\n\n  render() {\n    const { openModal, modalImgData, search } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onSearchSubmit} />\n        {/* {search !== '' && } */}\n        <GalleryRender onModalOpen={this.onModalOpen} search={search} />\n\n        {openModal === true && (\n          <Modal\n            onClose={this.toggleModal}\n            src={modalImgData.src}\n            alt={modalImgData.alt}\n          />\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__Ja69f\",\"SearchForm\":\"searchbar_SearchForm__JzV0k\",\"SearchForm-button\":\"searchbar_SearchForm-button__HKAE6\",\"SearchForm-button-label\":\"searchbar_SearchForm-button-label__1uRx6\",\"SearchForm-input\":\"searchbar_SearchForm-input__3TA0J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__-w7IN\",\"ImageGalleryItem\":\"imageGallery_ImageGalleryItem__UFjtu\",\"ImageGalleryItem-image\":\"imageGallery_ImageGalleryItem-image__2tLz-\"};"],"sourceRoot":""}